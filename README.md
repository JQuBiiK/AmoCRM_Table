<h1 align="center">AmoCRM Deals Table</h1>

<p align="center">Этот проект позволяет отображать список сделок из AmoCRM через API и получать детальную информацию о каждой сделке при клике на неё.</p>

<h2>Особенности</h2>

<ul>
  <li>Отображение списка сделок с использованием AmoCRM API.</li>
  <li>Загрузка не более 3 сделок в секунду для соблюдения ограничений API.</li>
  <li>При клике на сделку она раскрывается и отображает дополнительную информацию, включая дату ближайшей задачи и статус (красный, жёлтый, зелёный).</li>
  <li>При открытии новой сделки предыдущая автоматически закрывается.</li>
  <li>Обработка некорректных данных и отображение "Нет задачи", если дата задачи отсутствует.</li>
  <li>Стили для корректного отображения таблицы и статусов задач.</li>
</ul>

<h2>Как запустить проект</h2>

<h3>1. Установка и настройка</h3>
<ol>
  <li>Скачайте проект или клонируйте репозиторий:
    <pre><code>git clone https://github.com/JQuBiiK/AmoCRM_Table.git</code></pre>
  </li>
  <li>Перейдите в директорию проекта:
    <pre><code>cd AmoCRM_Table</code></pre>
  </li>
  <li>Откройте проект в текстовом редакторе (например, VS Code).</li>
</ol>

<h3>2. Настройка токена и URL для AmoCRM</h3>
<ol>
  <li>Откройте файл <code>script.js</code> и замените строку:
    <pre><code>const token = 'ваш токен здесь';</code></pre>
    Замените 'ваш токен здесь' на ваш реальный токен AmoCRM.
  </li>
  <li>Также замените домен в строке:
    <pre><code>const url = 'https://your-domain.amocrm.ru/api/v4/leads';</code></pre>
    Замените <code>your-domain</code> на ваш домен AmoCRM.
  </li>
</ol>

<h3>3. Использование CORS Unblock расширения</h3>
<p>Поскольку браузеры ограничивают запросы к сторонним доменам (как в случае с AmoCRM), вам нужно использовать расширение для браузера, чтобы обойти политику CORS:</p>
<ol>
  <li>Установите расширение <b>CORS Unblock</b> (доступно для Chrome и Firefox).</li>
  <li>Включите расширение для страницы, на которой работает проект.</li>
</ol>

<h3>4. Запуск локального сервера</h3>
<p>Для корректной работы проекта также нужно запустить его на локальном сервере, так как прямое открытие файла <code>index.html</code> может привести к дополнительным проблемам с CORS.</p>

<h4>Способ 1: Запуск с использованием Live Server (VS Code)</h4>
<ol>
  <li>Установите расширение <b>Live Server</b> для Visual Studio Code.</li>
  <li>Откройте проект в VS Code и запустите файл <code>index.html</code> с помощью Live Server. Это сделает проект доступным по адресу, например, <code>http://localhost:5500</code>.</li>
</ol>

<h4>Способ 2: Использование Python HTTP-сервера</h4>
<p>Если у вас установлен Python:</p>
<ol>
  <li>Откройте терминал и перейдите в папку с проектом.</li>
  <li>Запустите команду:
    <pre><code>python -m http.server</code></pre>
  </li>
  <li>Проект будет доступен по адресу <code>http://localhost:8000</code>.</li>
</ol>

<h4>Способ 3: Локальный запуск из проводника</h4>
<p>Откройте проводник</p>
<ol>
  <li>Перейдите в папку куда скопировали или скачали проект.
  </li>
  <li>Найдите файл <code>index.html</code>.
  </li>
  <li>Кликликните по файлу два раза <b>ЛКМ</b> или один раз <b>ПКМ</b> и в выпадающем меню выберете <code>Открыть с помощь Google</code>.</li>
</ol>

<h2>Описание файлов проекта</h2>

<ul>
  <li><b>index.html</b> — Основной файл HTML, содержащий структуру страницы.</li>
  <li><b>style.css</b> — Файл для стилей.</li>
  <li><b>script.js</b> — Основная логика для загрузки данных из AmoCRM API и управления взаимодействием с пользователем.</li>
</ul>

<h2>Примечания</h2>

<ul>
  <li><b>CORS</b>: Для работы проекта необходимо использовать расширение <b>CORS Unblock</b> или другой инструмент для обхода политики CORS, а также запускать проект через локальный сервер.</li>
  <li><b>Ограничение API</b>: Согласно правилам AmoCRM API, вы должны соблюдать ограничения на количество запросов в секунду. Проект реализует ограничение на 3 запроса в секунду для демонстрационных целей.</li>
</ul>

<h2>Примеры</h2>

<p>При успешной загрузке вы увидите таблицу с данными сделок:</p>

<pre>
Сделка            | Бюджет     | ID
------------------|------------|--------
Сделка #2366899   | 50000      | 2366899
------------------|------------|--------
Сделка #2366900   | 75000      | 2366900
</pre>

<h2>Лицензия</h2>

<p>Этот проект содержит файлы принадлежащие Рожкову Игорю Вячеславовичу.<br>
<p>Использование проекта в коммерческих целях запрещено.</p>
<p><b>При нарушении авторских прав владелец программного обеспечения может обратиться в суд и взыскать компенсацию по статье 1301 Гражданского кодекса РФ, размер которой составляет от 10 тысяч до 5 млн. рублей.</b></p>
